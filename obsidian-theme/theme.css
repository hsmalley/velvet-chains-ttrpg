/*
 * Velvet Chains & Voidlight â€” Obsidian Theme
 * Mirrors the neon corsair aesthetics used by the campaign codex site.
 * Includes Style Settings integration for accent/glow/animation tweaks.
 */
@import url('https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;600;700&family=Playfair+Display:wght@400;600;700&family=Cinzel:wght@400;600&display=swap');

/* @settings
{
  "name": "Velvet Chains & Voidlight",
  "settings": [
    {
      "id": "velvet-accent-color",
      "name": "Primary accent color",
      "type": "color",
      "default": "#e025ff"
    },
    {
      "id": "velvet-secondary-color",
      "name": "Secondary accent color",
      "type": "color",
      "default": "#ff1764"
    },
    {
      "id": "velvet-background-animate",
      "name": "Animate background shimmer",
      "type": "variable-toggle",
      "default": true,
      "valueOn": "running",
      "valueOff": "paused"
    },
    {
      "id": "velvet-glow-strength",
      "name": "Glow intensity",
      "type": "variable-number",
      "min": 0.5,
      "max": 2.5,
      "step": 0.1,
      "default": 1.3
    },
    {
      "id": "velvet-font-choice",
      "name": "Body font family",
      "type": "variable-select",
      "default": "'Crimson Text','Playfair Display','Times New Roman',serif",
      "options": [
        {
          "label": "Crimson Text",
          "value": "'Crimson Text','Playfair Display','Times New Roman',serif"
        },
        {
          "label": "Playfair Display",
          "value": "'Playfair Display','Crimson Text','Times New Roman',serif"
        },
        {
          "label": "Cinzel",
          "value": "'Cinzel','Playfair Display','Times New Roman',serif"
        }
      ]
    }
  ]
}
*/

:root {
  --velvet-default-accent: #e025ff;
  --velvet-default-secondary: #ff1764;
  --velvet-accent: var(--velvet-accent-color, var(--velvet-default-accent));
  --velvet-accent-strong: var(--velvet-secondary-color, var(--velvet-default-secondary));
  --velvet-text: #fbe9ff;
  --velvet-text-muted: #d8bff0;
  --velvet-hypertext: #ffd866;
  --velvet-glow: var(--velvet-glow-strength, 1.3);
  --velvet-font-default: 'Crimson Text','Playfair Display','Times New Roman',serif;
  --velvet-font-body: var(--velvet-font-choice, var(--velvet-font-default));
  --velvet-gradient: linear-gradient(135deg, #08000d 0%, #130022 25%, #250044 55%, #150023 100%);
  --velvet-stars: radial-gradient(circle at 20% 20%, rgba(217, 70, 239, 0.25), transparent 60%),
                  radial-gradient(circle at 80% 30%, rgba(190, 18, 60, 0.18), transparent 55%),
                  radial-gradient(circle at 50% 80%, rgba(255, 215, 102, 0.12), transparent 65%);
}

@keyframes voidlight-waves {
  0% {
    background-position: 0% 50%, 20% 20%, 80% 30%, 50% 80%;
  }
  50% {
    background-position: 100% 50%, 25% 25%, 75% 35%, 55% 75%;
  }
  100% {
    background-position: 0% 50%, 20% 20%, 80% 30%, 50% 80%;
  }
}

@keyframes neon-pulse {
  0% {
    text-shadow: 0 0 calc(12px * var(--velvet-glow)) var(--velvet-accent), 0 0 calc(30px * var(--velvet-glow)) rgba(255, 23, 100, 0.45);
  }
  50% {
    text-shadow: 0 0 calc(18px * var(--velvet-glow)) var(--velvet-accent-strong), 0 0 calc(45px * var(--velvet-glow)) rgba(255, 215, 102, 0.4);
  }
  100% {
    text-shadow: 0 0 calc(12px * var(--velvet-glow)) var(--velvet-accent), 0 0 calc(30px * var(--velvet-glow)) rgba(255, 23, 100, 0.45);
  }
}

.theme-dark {
  --background-primary: #0b0015;
  --background-primary-alt: #130024;
  --background-secondary: #1c0036;
  --background-secondary-alt: #250048;
  --background-modifier-border: rgba(224, 37, 255, 0.3);
  --background-modifier-hover: rgba(224, 37, 255, 0.12);
  --background-modifier-active-hover: rgba(255, 23, 100, 0.12);
  --text-normal: var(--velvet-text);
  --text-muted: var(--velvet-text-muted);
  --text-faint: rgba(244, 226, 255, 0.5);
  --text-on-accent: #15001d;
  --text-accent: var(--velvet-accent);
  --text-accent-hover: var(--velvet-accent-strong);
  --interactive-accent: var(--velvet-accent);
  --interactive-accent-hover: var(--velvet-accent-strong);
  --interactive-accent-rgb: 224, 37, 255;
  --link-color: var(--velvet-hypertext);
  --link-color-hover: var(--velvet-accent);
  --code-normal: var(--velvet-text);
  --code-background: rgba(5, 0, 10, 0.75);
  --blockquote-border: var(--velvet-accent);
  --tag-background: rgba(224, 37, 255, 0.22);
  --tag-color: var(--velvet-text);
}

body.theme-dark {
  font-family: var(--velvet-font-body);
  background: var(--velvet-gradient) fixed;
  background-image: var(--velvet-gradient), var(--velvet-stars);
  background-size: 300% 300%, 150% 150%, 170% 170%, 190% 190%;
  animation: voidlight-waves 32s ease-in-out infinite;
  animation-play-state: var(--velvet-background-animate, running);
  color: var(--velvet-text);
}

.theme-dark .workspace,
.theme-dark .horizontal-main-container,
.theme-dark .vertical-tabs-container {
  background: transparent;
}

.nav-folder.mod-root > .nav-folder-title,
.workspace-ribbon,
.status-bar {
  background: rgba(20, 0, 40, 0.78);
  backdrop-filter: blur(10px);
  border: 1px solid rgba(224, 37, 255, 0.28);
  box-shadow: 0 0 calc(20px * var(--velvet-glow)) rgba(224, 37, 255, 0.25);
}

.markdown-reading-view h1,
.markdown-reading-view h2,
.markdown-reading-view h3,
.markdown-reading-view h4,
.markdown-reading-view h5,
.markdown-reading-view h6,
.cm-s-obsidian .cm-header {
  background: linear-gradient(45deg, rgba(224, 37, 255, 0.45), rgba(255, 23, 100, 0.35), rgba(255, 215, 102, 0.3));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  text-shadow: 0 0 calc(20px * var(--velvet-glow)) rgba(224, 37, 255, 0.6), 0 0 calc(50px * var(--velvet-glow)) rgba(255, 215, 102, 0.45);
  letter-spacing: 0.035em;
  animation: neon-pulse 18s ease-in-out infinite;
}

.markdown-reading-view h1,
.cm-s-obsidian .cm-header-1 {
  font-size: 3.3rem;
  text-align: center;
  margin-bottom: 2rem;
}

.markdown-reading-view blockquote,
.cm-s-obsidian span.cm-quote {
  border-left: 5px solid var(--velvet-accent);
  background: linear-gradient(135deg, rgba(8, 0, 18, 0.9), rgba(20, 0, 40, 0.92));
  padding: 1.6rem 2.2rem;
  margin: 2rem 0;
  box-shadow: 0 6px calc(26px * var(--velvet-glow)) rgba(224, 37, 255, 0.2);
  font-style: italic;
}

.markdown-reading-view code,
.cm-s-obsidian .cm-inline-code {
  background: rgba(6, 0, 14, 0.75);
  border: 1px solid rgba(224, 37, 255, 0.32);
  border-radius: 8px;
  padding: 0.3em 0.6em;
  font-family: 'Fira Code', 'Source Code Pro', monospace;
  color: var(--velvet-text);
  box-shadow: 0 0 calc(14px * var(--velvet-glow)) rgba(224, 37, 255, 0.25);
}

.markdown-reading-view pre code,
.cm-s-obsidian pre.HyperMD-codeblock {
  background: rgba(5, 0, 10, 0.78);
  border-radius: 16px;
  border: 1px solid rgba(224, 37, 255, 0.28);
  padding: 1.8rem;
  box-shadow: inset 0 0 calc(16px * var(--velvet-glow)) rgba(0, 0, 0, 0.85), 0 0 calc(30px * var(--velvet-glow)) rgba(224, 37, 255, 0.28);
}

.theme-dark table,
.markdown-reading-view table {
  background: radial-gradient(circle at top left, rgba(224, 37, 255, 0.2), rgba(10, 0, 26, 0.95));
  border-collapse: collapse;
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 12px calc(32px * var(--velvet-glow)) rgba(224, 37, 255, 0.25);
}

.theme-dark table th,
.theme-dark table td {
  border-bottom: 1px solid rgba(224, 37, 255, 0.32);
  padding: 1.1rem 1.4rem;
}

.theme-dark table th {
  background: linear-gradient(120deg, rgba(224, 37, 255, 0.38), rgba(255, 215, 102, 0.25));
  color: var(--velvet-text);
}

.markdown-reading-view .callout,
.theme-dark .callout {
  border-left: 6px solid var(--velvet-accent);
  background: rgba(6, 0, 14, 0.78);
  box-shadow: 0 12px calc(36px * var(--velvet-glow)) rgba(224, 37, 255, 0.22);
  border-radius: 18px;
  padding: 1.9rem;
  backdrop-filter: blur(14px);
  position: relative;
}

.theme-dark .callout::after {
  content: "";
  position: absolute;
  inset: 6px;
  border-radius: 12px;
  pointer-events: none;
  background: linear-gradient(135deg, rgba(224, 37, 255, 0.24), rgba(255, 215, 102, 0.18));
  opacity: calc(0.35 * var(--velvet-glow));
}

.nav-file-title,
.nav-folder-title {
  border-radius: 10px;
  padding: 0.5rem 0.7rem;
  transition: background 180ms ease, box-shadow 200ms ease;
}

.nav-file-title.is-active,
.nav-folder-title.is-active {
  background: rgba(224, 37, 255, 0.32);
  color: var(--velvet-text);
  box-shadow: 0 0 calc(20px * var(--velvet-glow)) rgba(224, 37, 255, 0.3);
}

.nav-file-title:hover,
.nav-folder-title:hover {
  background: rgba(224, 37, 255, 0.22);
}

.theme-dark .status-bar {
  background: rgba(12, 0, 24, 0.82);
  border-top: 1px solid rgba(224, 37, 255, 0.3);
  color: var(--velvet-text-muted);
}

.workspace,
.status-bar,
.workspace-ribbon {
  background: rgba(12, 0, 24, 0.74);
  backdrop-filter: blur(12px);
}
